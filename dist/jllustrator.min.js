!function(a){a.fn.extend({classify:function(b){var c=a(this);return this.each(function(){c.find('[id*="."]').each(function(b,c){var d=a(c).attr("id"),e=d.match(/(\.[a-zA-Z]+)/g),f=d.split("_");a(c).attr("id",f[0]),e.forEach(function(b,d){a(c).addClass(b)})})})}})}(window.jQuery),function(a){a.fn.extend({compose:function(b){var c=a(this);return this.each(function(){var d=c.parent(),e=a('<div style="position:relative;"></div>');d.append(e),e.append(c);var f=c.attr("viewBox").split(" ");c.find(b).each(function(b,c){var d=a(c)[0].getBBox(),g=100*d.width/+f[2],h=100*d.height/+f[3],i='viewBox="'+d.x+" "+d.y+" "+Math.round(d.width)+" "+Math.round(d.height)+'"',j='style="position:absolute;left:'+d.x+"%;top:"+d.y+'%;"',k=a("<svg "+i+" "+j+' xmlns="http://www.w3.org/2000/svg" width="'+g+'%" height="'+h+'%"></svg>');k.append(a(c)),e.append(k)})})}})}(window.jQuery),function(a){a.fn.extend({coords:function(a){var b=this.get(0),c=b.createSVGPoint();return c.x=a.x,c.y=a.y,c.matrixTransform(b.getScreenCTM().inverse())}})}(window.jQuery),function(a){a.fn.extend({getMask:function(){var b=a(this),c=b.parent(),d=b.attr("clip-path"),e=/url\((.*)\)/g.exec(d)[1],f=c.find(e+" > *").attr("xlink:href");return c.find(f)}})}(window.jQuery),function(a){a.fn.extend({grid:function(b,c){for(var d=[],e=0,f=0,g=0,h=0;h<c;++h)for(var i=0;i<b;++i)d.push({i:g,x:e/c,y:f/b,w:0,h:0}),e++,++g%c==0&&(f++,e=0);return a(d)}})}(window.jQuery),function(a){a.fn.extend({insertSvg:function(b,c){var d=this;a.get(b,function(b){var e=a(b.documentElement);return d.each(function(){a(this).append(e),c&&c.bind(d)()})})}})}(window.jQuery),function(a){var b=a("[jllustrator]").length,c=0;b>0&&(a.holdReady(!0),a("[jllustrator]").each(function(d,e){var f=a(this).attr("jllustrator");a(this).insertSvg(f,function(){var e=a(this).find("svg");e.sanityCheck(),e.warnFonts(),e.classify(),e.find('text[id$="_j|right"]').textAlign("right"),e.find('text[id$="_j|center"]').textAlign("center"),a(this).attr("data-aid","aid"+d),a(this).sandboxRef(),++c>=b&&a.holdReady(!1)})}))}(window.jQuery),function(a){a.fn.extend({layerize:function(b){var c=a(this),d=[];return this.each(function(){var e=c.parent(),f=a('<div style="position:relative;"></div>');e.append(f),f.append(c);var g=c.attr("viewBox");c.find(b).each(function(b,c){var e=a(document.createElementNS("http://www.w3.org/2000/svg","svg"));e.attr("viewBox",g),e.css("position","absolute"),e.css("top",0),e.css("left",0),e.append(a(c)),f.append(e),d.push(e)})}),a(d)}})}(window.jQuery),function(a){a.fn.extend({range:function(b){for(var c=[],d=0;d<b;++d)c.push({i:d});return a(c)}})}(window.jQuery),function(a){a.fn.extend({sandboxRef:function(){var b=a(this).find("svg"),c=a(this).data("aid");return this.each(function(){["clip-path","fill","stroke"].forEach(function(d,e){b.find("["+d+'^="url"]').each(function(e,f){var g=a(f).attr(d).replace("url(","").replace(")",""),h=b.find(g),i=g+"--"+c;a(f).attr(d,"url("+i+")"),h.attr("id",i.substr(1))})}),a('[data-aid="'+c+'"] svg [*|href]').each(function(d,e){var f=a(e).attr("xlink:href"),g=b.find(f),h=f+"--"+c;a(e).attr("xlink:href",h),g.attr("id",h.substr(1))})})}})}(window.jQuery),function(a){a.fn.extend({sanityCheck:function(b){var c=a(this);return this.each(function(){c.attr("width")||c.attr("height"),c.attr("viewBox")})}})}(window.jQuery),function(a){a.fn.extend({svgElement:function(b){var c=document.createElementNS("http://www.w3.org/2000/svg",b);return a(c)}})}(window.jQuery),function(a){a.fn.extend({textAlign:function(b){return this.each(function(){a(this)[0].getBBox()})}})}(window.jQuery),function(a){a.fn.extend({link:function(a){return this.each(function(){this.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+a)})}})}(window.jQuery),function(a){a.fn.extend({warnFonts:function(){return this.each(function(){var b=[];a(this).find("[font-family]").each(function(c,d){var e=a(this).attr("font-family");b.indexOf(e)<0&&b.push(e)}),b.length})}})}(window.jQuery);